# SPDX-FileCopyrightText: 2023 Julian-Samuel Geb√ºhr
#
# SPDX-License-Identifier: AGPL-3.0-or-later

AUTHENTIK_SECRET_KEY={{ authentik_secret_key }}

AUTHENTIK_REDIS__HOST={{ authentik_redis_hostname }}
AUTHENTIK_REDIS__PORT={{ authentik_config_redis_port }}
AUTHENTIK_REDIS__DB={{ authentik_config_redis_database }}

AUTHENTIK_POSTGRESQL__HOST={{ authentik_database_hostname }}
AUTHENTIK_POSTGRESQL__USER={{ authentik_database_username }}
AUTHENTIK_POSTGRESQL__NAME={{ authentik_database_name }}
AUTHENTIK_POSTGRESQL__PASSWORD={{ authentik_database_password }}

CELERY_BROKER_URL={{ authentik_config_redis_url }}

{% if authentik_email_host %}
AUTHENTIK_EMAIL__HOST={{ authentik_email_host }}
AUTHENTIK_EMAIL__PORT={{ authentik_email_port }}
# Optionally authenticate (don't add quotation marks to your password)
AUTHENTIK_EMAIL__USERNAME={{ authentik_email_username }}
AUTHENTIK_EMAIL__PASSWORD={{ authentik_email_password }}
# Use StartTLS
AUTHENTIK_EMAIL__USE_TLS={{ authentik_email_use_tls | to_json }}
# Use SSL
AUTHENTIK_EMAIL__USE_SSL={{ authentik_email_use_ssl | to_json }}
AUTHENTIK_EMAIL__TIMEOUT=10
# Email address authentik will send from, should have a correct @domain
AUTHENTIK_EMAIL__FROM={{ authentik_email_from }}
{% endif %}

{{ authentik_environment_variables_additional_variables }}
